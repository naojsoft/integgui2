# 
# FMOS.yml -- FMOS launchers file 
#
# This is a YAML file

tabname: "FMOS"
launchers:
    -
        label: "MOVE RA/DEC/PA"
        cmd  : SETUPFIELD OBE_ID=FMOS OBE_MODE=LAUNCHER RA=$VAL01 DEC=$VAL02 INSROT_PA=$VAL03
        params:
            - [ VAL01, INPUT, 10, "!STATS.RA",  "RA" ]
            - [ VAL02, INPUT, 10, "!STATS.DEC", "DEC" ]
            - [ VAL03, INPUT, 10, 0.0, "OFFSET ANGLE" ]

    -
        label: "MOVE AZ/EL"
        cmd  : SETUPAZEL OBE_ID=FMOS OBE_MODE=LAUNCHER AZ=$VAL01 EL=$VAL02
        params:
            - [ VAL01, INPUT, 8, "!TSCS.AZ", "Az" ]
            - [ VAL02, INPUT, 8, "!TSCS.EL", "El" ]

    -
        label: "OFFSET RA/DEC"
        cmd  : TELOFFSET OBE_ID=FMOS OBE_MODE=LAUNCHER RA_OFFSET=$VAL01 DEC_OFFSET=$VAL02
        params:
            - [ VAL01, INPUT, 10, 0.0, "dRA(arcsec)" ]
            - [ VAL02, INPUT, 10, 0.0, "dDEC(arcsec)" ]

    -
        label: "SET OFFSET ANGLE"
        cmd  : SETUPPA OBE_ID=FMOS OBE_MODE=LAUNCHER PA=$VAL01
        params:
            - [ VAL01, INPUT, 10, 0.0, "OFFSET ANGLE" ]

    -
        label: "OFFSET InR ANGLE"
        cmd  : PAOFFSET OBE_ID=FMOS OBE_MODE=LAUNCHER DPA=$VAL01
        params:
            - [ VAL01, INPUT, 10, 0.0, "dANGLE" ]

    - sep

    -
        label: "MOVE FOCUS Z"
        cmd  : FAMMOVE OBE_ID=FMOS OBE_MODE=LAUNCHER POSZ=$VAL01
        params:
            - [ VAL01, INPUT, 8, "!TSCL.Z", "FocusZ" ]

    -
        label: "CHECK BEST Z"
        cmd  : CHECKFOCUS OBE_ID=FMOS OBE_MODE=LAUNCHER S2O=$VAL01 ZMIN=$VAL02 ZMAX=$VAL03 NPTS=$VAL04
        params:
            - [ VAL01, INPUT, 8, NOP, "S2O" ]
            - [ VAL02, INPUT, 8, 4, "ZMIN" ]
            - [ VAL03, INPUT, 8, 5, "ZMAX" ]
            - [ VAL04, INPUT, 8, 5, "NPTS" ]

    -
        label: "MOVE Corrector"
        cmd  : CMMMOVE OBE_ID=FMOS OBE_MODE=LAUNCHER POSX=$VAL01 POSY=$VAL02
        params:
            - [ VAL01, INPUT, 8, "-999", "X" ]
            - [ VAL02, INPUT, 8, "-999", "Y" ]

    - sep

    -
        label: "ECH FIBER TWEAK"
        cmd  : ECHTWEAK OBE_ID=FMOS OBE_MODE=LAUNCHER OBSD=$VAL01 BBLIND=$VAL02
        params:
            - [ VAL01, INPUT, 8, 0, "OBSD(sec)" ]
            - [ VAL02, INPUT, 2, T, "Blind?(T/F)" ]

    -
        label: "ECH PRISM PARK"
        cmd  : ECHPRISM OBE_ID=FMOS OBE_MODE=LAUNCHER PARK=1

    -
        label: "ECH PRISM PRIME"
        cmd  : ECHPRISM OBE_ID=FMOS OBE_MODE=LAUNCHER PARK=0

    -
        label: "ECH AG2 START"
        cmd  : ECHAG2START OBE_ID=FMOS OBE_MODE=LAUNCHER

    -
        label: "ECH AG2 STOP"
        cmd  :  ECHAG2STOP OBE_ID=FMOS OBE_MODE=LAUNCHER

    -
        label: "SET ECH AG2 TIME"
        cmd  : ECHAG2TIME OBE_ID=FMOS OBE_MODE=LAUNCHER INTERVAL=$VAL01 EXPTIME=$VAL02
        params:
            - [ VAL01, INPUT, 10, 15, "Interval(sec)" ]
            - [ VAL02, INPUT, 10, 10, "Exposure(sec)" ]

    -
        label: "TEL AG START"
        cmd  : TELAG2START OBE_ID=FMOS OBE_MODE=LAUNCHER

    -
        label: "TEL AG STOP"
        cmd  : TELAG2STOP OBE_ID=FMOS OBE_MODE=LAUNCHER

    - sep

    -
        label: "IRS1 EXP ABORT"
        cmd  : EXP_ABORT OBE_ID=FMOS OBE_MODE=LAUNCHER TARGET=1

#    -
#       label: "IRS2 EXP ABORT"
#       cmd  : EXP_ABORT OBE_ID=FMOS OBE_MODE=LAUNCHER TARGET=2

    - sep

    -
        label: "CAL ON (P2 FRONT)"
        cmd  : CALONOFF OBE_ID=FMOS OBE_MODE=LAUNCHER ON=ON

    -
        label: "CAL OFF(P2 FRONT)"
        cmd  : CALONOFF OBE_ID=FMOS OBE_MODE=LAUNCHER ON=OFF

    - sep

    -
        label: "INIT ECH"
        cmd  : ECHINIT OBE_ID=FMOS OBE_MODE=LAUNCHER

    -
        label: "INIT TAKO"
        cmd  : INITTAKO OBE_ID=FMOS OBE_MODE=LAUNCHER

    -
        label: "INIT FAM"
        cmd  : INITFAM OBE_ID=FMOS OBE_MODE=LAUNCHER

    -
        label: "INIT CMM"
        cmd  : INITCMM OBE_ID=FMOS OBE_MODE=LAUNCHER

    -
        label: "INIT AGSH"
        cmd  : INITAGSH OBE_ID=FMOS OBE_MODE=LAUNCHER

#END
