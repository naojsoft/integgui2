# 
# HICIAO.yml -- HICIAO launchers file 
#
# This is a YAML file

tabname: "HiCIAO"
launchers:

#
# SNAP
#

    -
        label:  "SNAP" # Take images
        cmd  : SNAP OBE_ID=HICIAO OBE_MODE=SUBROUTINE EXPTIME=$VAL01 EXPMODE=$VAL02 NFRAME=$VAL03 NFOWLER=$VAL04 NCOADD=$VAL05 FIMAGE=$VAL06 CIMAGE=$VAL07 ARCHIVE=$VAL08 XSTART=$VAL09 XEND=$VAL10 YSTART=$VAL11 YEND=$VAL12
        params:
            - [ VAL01, INPUT, 6, 1.5, "Exptime" ]
            - [ VAL02, INPUT, 6, "ASIC", "Mode" ]
            - [ VAL03, INPUT, 6, 1, "Frames" ]
            - [ VAL04, INPUT, 6, 1, "Fowler" ]
            - [ VAL05, INPUT, 6, 1, "Coadd" ]
            - break
            - [ VAL06, INPUT, 6, "NO", "Fimage?" ]
            - [ VAL07, INPUT, 6, "NO", "Cimage?" ]
            - [ VAL08, INPUT, 6, "NO", "Archive" ]
            - break
            - [ VAL09, INPUT, 6, 1, "X1" ]
            - [ VAL10, INPUT, 6, 2048, "X2" ]
            - [ VAL11, INPUT, 6, 1, "Y1" ]
            - [ VAL12, INPUT, 6, 2048, "Y2" ]
    - sep

#
# Change filters
#

    -
        label:  "Filters" # Change filters
        cmd  : SETUPOBE OBE_ID=HICIAO OBE_MODE=TOOL COM=$VAL02 PUP=$VAL01 FOC=$VAL02 DIF=$VAL03
        params:
            - [ VAL01, LIST, [["OPEN", OPEN], ["ND10", ND10], ["ND1", ND1], ["ND0.1", ND0.1], ["ND0.01", ND0.01], ["PV", PV]], "ND filter" ]
            - [ VAL02, LIST, [["H", H], ["K", K], ["J", J], ["Y", Y]], "Com. filter" ]
            - [ VAL03, LIST, [["OPEN", OPEN], ["CH4R70", CH4R70], ["H2R70", H2]], "Dif. filter" ]
    - sep

#
# Set AO point
#

    - 
        label: "Set AO Point (pix)" # AO acquisition
        cmd  : AO188_AOPSET OBE_ID=AO188 OBE_MODE=LAUNCHER X_PIX=$VAL01 Y_PIX=$VAL02 PIXSCALE=$VAL03 INSTRUMENT=$VAL04
        params:
            - [ VAL01, INPUT, 6, 0.0, "X" ]
            - [ VAL02, INPUT, 6, 0.0, "Y" ]
            - [ VAL03, LIST, [ "10MAS" ],
                "Pixel Scale" ]
            - [ VAL04, LIST, [ ["HiCIAO", HICIAO] ],
                "Instrument" ]
    - sep

#
# AO Offset
#

    - 
        label: "Offset pix" # AO acquisition offset
        cmd  : AO188_AOOFFSET OBE_ID=AO188 OBE_MODE=LAUNCHER X_PIX=$VAL01 Y_PIX=$VAL02 PIXSCALE=$VAL04 INSTRUMENT=$VAL07 COORD=$VAL06 MODE=$VAL05 TTSTEP=$VAL03
        params:
            - [ VAL01, INPUT, 6, 0.0, "dX" ]
            - [ VAL02, INPUT, 6, 0.0, "dY" ]
            - [ VAL03, INPUT, 2, 1, "Step" ]
            - break
            - [ VAL04, LIST, [ "10MAS" ],
                "Pixel Scale" ]
            - [ VAL05, LIST, [["TT", TT], ["TT NULL", TTNULL],
                             ["AO POINT", AOP]], "Mode" ]
            - [ VAL06, LIST, [["Sdrl", ABS], ["N-Sdrl", FILE]], "Type" ]
            - [ VAL07, LIST, [["HiCIAO", HICIAO]], "Instrument" ]

    - sep

#
# AO TT Nulling (Use while AO loop is CLOSED)
#
    -
        label: "TToffload" # Correction of AO TT mirror by moving telescope
        cmd  : AO188_TTNULL_FEED OBE_ID=AO188 OBE_MODE=LAUNCHER TT_X=$VAL01 TT_Y=$VAL02 COORD=$VAL03
        params:
            - [ VAL01, INPUT, 6, 0.0, "TT X" ]
            - [ VAL02, INPUT, 6, 0.0, "TT Y" ]
            - [ VAL03, LIST, [["Sidereal", ABS], ["Non-Sidereal", FILE]],
                "TYPE" ]

#
# Focus OBE
#
#
#    -
#        label: "Focus OBE" # FocusOBE
#        cmd  : FOCUSOBE OBE_ID=HICIAO OBE_MODE=TOOL Z=$VAL01 DELTAZ=$VAL02 EXPTIME=$VAL03 NFRAME=$VAL04 EXP_MODE=$VAL05
#        params:
#            - [ VAL01, INPUT, 8, "!TSCL.Z", "Start Z" ]
#            - [ VAL02, INPUT, 6, 0.07, "Delta Z" ]
#            - [ VAL03, INPUT, 6, 1.4, "Exp time" ]
#            - [ VAL04, INPUT, 6, 3, "No. of frames" ]
#            - [ VAL05, INPUT, 8, SHUTTER, "Exp Mode" ]
#
#    - sep

#
# SNAP
#

    -
        label:  "SNAP" # Take images
        cmd  : SNAP OBE_ID=HICIAO OBE_MODE=SUBROUTINE EXPTIME=$VAL01 EXPMODE=$VAL02 NFRAME=$VAL03 NFOWLER=$VAL04 NCOADD=$VAL05 FIMAGE=$VAL06 CIMAGE=$VAL07 ARCHIVE=$VAL08 XSTART=$VAL09 XEND=$VAL10 YSTART=$VAL11 YEND=$VAL12
        params:
            - [ VAL01, INPUT, 6, 1.4, "Exptime" ]
            - [ VAL02, INPUT, 6, "ASIC", "Mode" ]
            - [ VAL03, INPUT, 6, 1, "Frames" ]
            - [ VAL04, INPUT, 6, 1, "Fowler" ]
            - [ VAL05, INPUT, 6, 1, "Coadd" ]
            - break
            - [ VAL06, INPUT, 6, "NO", "Fimage?" ]
            - [ VAL07, INPUT, 6, "NO", "Cimage?" ]
            - [ VAL08, LIST, [["YES", "YES"], ["NO", "NO"]], "Archive" ]
            - break
            - [ VAL09, INPUT, 6, 1, "X1" ]
            - [ VAL10, INPUT, 6, 2048, "X2" ]
            - [ VAL11, INPUT, 6, 1, "Y1" ]
            - [ VAL12, INPUT, 6, 2048, "Y2" ]
    - sep

##
## TT Offload
##
#    - 
#        label: "TToffload" # Correction of AO TT mirror by moving telescope
#        cmd  : AO188_TTNULL_AUTO OBE_ID=AO188 OBE_MODE=LAUNCHER COORD=$VAL01 
#        params:
#            - [ VAL01, LIST, [["Sidereal", ABS], ["Non-Sidereal", FILE]],
#                "Type" ]
#
#    - sep

#
# AO Focus
#

    -
        label: "AU1 Focus"
        cmd  : AO188_AU1_MOVE OBE_ID=AO188 OBE_MODE=LAUNCHER CMD=$VAL01 VAL1=$VAL02 VAL2=0
        params:
            - [ VAL01, LIST, [["MOVABS", AFOCUS], ["MOVREL", RFOCUS]] ]
            - [ VAL02, INPUT, 6, 0.0, "mm" ]

    - sep

#
# Focus OBE
#
#
#    -
#        label: "Focus OBE" # FocusOBE
#        cmd  : FOCUSOBE OBE_ID=HICIAO OBE_MODE=TOOL Z=$VAL01 DELTAZ=$VAL02 EXPTIME=$VAL03 NFRAME=$VAL04 EXP_MODE=$VAL05
#        params:
#            - [ VAL01, INPUT, 8, "!TSCL.Z", "Start Z" ]
#            - [ VAL02, INPUT, 6, 0.07, "Delta Z" ]
#            - [ VAL03, INPUT, 6, 1.4, "Exp time" ]
#            - [ VAL04, INPUT, 6, 3, "No. of frames" ]
#            - [ VAL05, INPUT, 8, SHUTTER, "Exp Mode" ]
#
#    - sep

#
# Teloffset
#

    -
        label: "TELOFFSET" # TELOFFSET
        cmd  : TELOFFSET OBE_ID=HICIAO OBE_MODE=LAUNCHER DELTA_RA=$VAL01 DELTA_DEC=$VAL02
        params:
            - [ VAL01, INPUT, 6, 0.0, "Delta RA" ]
            - [ VAL02, INPUT, 6, 0.0, "Delta DEC" ]

    - sep


#END
