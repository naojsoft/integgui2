# 
# AO188_3.yml -- AO188 launchers file 
#
# This is a YAML file

tabname: "AO188 (Common)"
launchers:
#################
# Image rotator #
#################
    - 
        label: "Image Rotator"
        cmd  : AO188_IMGROT OBE_ID=AO188 OBE_MODE=LAUNCHER MOVE=$VAL01 COORD=$VAL02 RA=$VAL03 DEC=$VAL04 EQUINOX=$VAL05 PA=$VAL06 ANGLE=$VAL07 TARGET=$VAL08 TMODE=$VAL09
        params:
            - [ VAL01, LIST, [ LINK, FREE, SLEW, STOP ], "MOVE" ]
            - [ VAL02, LIST, [ ABS, REL, FILE ], "COORD" ]
            - break
            - [ VAL03, INPUT, 9, NOP, "RA" ]
            - [ VAL04, INPUT, 9, NOP, "Dec" ]
            - [ VAL05, INPUT, 8, 2000.0, "EQUINOX" ]
            - break
            - [ VAL06, INPUT, 6, 0.0, "PA" ]
            - [ VAL07, INPUT, 6, 90.0, "ANGLE" ]
            - [ VAL08, INPUT, 8, NOP, "TARGET" ]
            - [ VAL09, LIST, [["SID", "SID"], ["NON-SID","NON-SID"],["ADI", "ADI"]], "TMODE"]

    - sep

#######
# ADC #
#######
    - 
        label: "ADC"
        cmd  : AO188_ADC OBE_ID=AO188 OBE_MODE=LAUNCHER DEV=$VAL01 CMD="$VAL02"
        params:
            - [ VAL01, LIST, [ ["SciPath","SADC"], ["HOWFS","HWADC"], ["LOWFS","LWADC"] ], "Device" ]
            - [ VAL02, SELECT, [ "OUT", "IN" ]]

    - 
        label: "ADC tracking"
        cmd  : AO188_ADCTRK OBE_ID=AO188 OBE_MODE=LAUNCHER DEV=$VAL01 MOVE=$VAL02 COORD=$VAL03 RA=$VAL04 DEC=$VAL05 EQUINOX=$VAL06 PA=$VAL07 FC=$VAL08 ANG1=$VAL09 ANG2=$VAL10 MODE=$VAL11 TARGET=$VAL12
        params:
            - [ VAL01, LIST, [ ["SciPath","SADC"], ["HOWFS","HWADC"], ["LOWFS","LWADC"] ], "Device" ]
            - [ VAL02, LIST, [ LINK, FREE, SLEW, STOP ,BASE], "MOVE" ]
            - [ VAL03, LIST, [ ABS, REL, FILE ], "COORD" ]
            - break
            - [ VAL04, INPUT, 9, NOP, "RA" ]
            - [ VAL05, INPUT, 9, NOP, "Dec" ]
            - [ VAL06, INPUT, 8, 2000.0, "EQUINOX" ]
            - break
            - [ VAL07, INPUT, 3, 0.0, "PA" ]
            - [ VAL08, INPUT, 3, 1.0, "FC" ]
            - [ VAL09, INPUT, 6, 0.0, "ANG1" ]
            - [ VAL10, INPUT, 6, 0.0, "ANG2" ]
            - break
            - [ VAL11, LIST, [["SID", "NORMAL"], ["ADI","ADI"]], "MODE"]
            - [ VAL12, INPUT, 8, NOP, "TARGET" ]

    - sep

######
# AU #
######
    -
        label: "Move AU"     
        cmd  : AO188_AU_MOVE OBE_ID=AO188 OBE_MODE=LAUNCHER CMD=$VAL02 VAL1=$VAL03 VAL2=$VAL04 DEV=$VAL01
        params:
            - [ VAL01, LIST, ["AU1", "AU2"], "Device"]
            - [ VAL02, LIST, [["ABS OFFSET(mm)", AOFF], ["REL OFFSET(mm)", ROFF],
                ["ABS OFFSET(asec)", ASOFF], ["REL OFFSET(asec)", RSOFF],
                ["ABS TILT(deg)", ATILT], ["REL TILT(deg)", RTILT],
                ["TTZERO(V)", TTZERO], ["WACQ(PIX)", WACQ]] ]
            - [ VAL03, INPUT, 6, 0.0, "X" ]
            - [ VAL04, INPUT, 6, 0.0, "Y" ]

    -
        label: "AU Focus"
        cmd  : AO188_AU_MOVE OBE_ID=AO188 OBE_MODE=LAUNCHER CMD=$VAL02 VAL1=$VAL03 DEV=$VAL01
        params:
            - [ VAL01, LIST, ["AU1", "AU2"], "Device"]
            - [ VAL02, LIST, [["MOVABS", AFOCUS], ["MOVREL", RFOCUS]] ]
            - [ VAL03, INPUT, 6, 0.0, "mm" ]

    -
        label: "AU Base"
        cmd  : AO188_AU_MOVE OBE_ID=AO188 OBE_MODE=LAUNCHER CMD=BASE INS=$VAL02 DEV=$VAL01
        params:
            - [ VAL01, LIST, ["AU1", "AU2"], "Device"]
            - [ VAL02, LIST, [["IRCS","IRCS"], ["HiCIAO", "HICIAO"], ["AO", "AO"]], "Instrument" ]
 
    - sep

#########################
# TT null (MANUAL FEED) #
#########################
#
# AO TT Nulling (Use while AO loop is CLOSED)
#
    -
        label: "TToffload" # Correction of AO TT mirror by moving telescope
        cmd  : AO188_TTNULL_FEED OBE_ID=AO188 OBE_MODE=LAUNCHER TT_X=$VAL01 TT_Y=$VAL02 COORD=$VAL03
        params:
            - [ VAL01, INPUT, 6, 0.0, "TT X" ]
            - [ VAL02, INPUT, 6, 0.0, "TT Y" ]
            - [ VAL03, LIST, [["Sidereal", ABS], ["Non-Sidereal", FILE]],
                "TYPE" ]

    - sep

##############################
# Power/Voltage for DM/TT/VM #
##############################
    -
        label: "Set VMpower"  # Set power
        cmd:   AO188_VMPOWER OBE_ID=AO188 OBE_MODE=LAUNCHER VAL=$VAL01
        params:
            - [ VAL01, LIST, [["On", "ON"], ["Off", "OFF"]] ]

    -
        label: "Set DMvolt"  # Set voltage
        cmd  : AO188_DMVOLT OBE_ID=AO188 OBE_MODE=LAUNCHER VAL=$VAL01
        params:
            - [ VAL01, LIST, [["Flat", FLAT], ["Zero", ZERO]] ]

    -
        label: "Set TTvolt"  # Set voltage
        cmd  : AO188_TTVOLT OBE_ID=AO188 OBE_MODE=LAUNCHER VAL=$VAL01 TTX=$VAL02 TTY=$VAL03
        params:
            - [ VAL01, LIST, [["Flat", FLAT], ["Zero", ZERO],
                              ["MOVREL", MOVREL], ["MOVABS", MOVABS]], "Set" ]
            - [ VAL02, INPUT, 6, 0.0, "TT X" ]
            - [ VAL03, INPUT, 6, 0.0, "TT Y" ]

    -
        label: "Set WFS TTvolt"  # Set voltage
        cmd  : AO188_WTTVOLT OBE_ID=AO188 OBE_MODE=LAUNCHER VAL=$VAL01 WTTX=$VAL02 WTTY=$VAL03
        params:
            - [ VAL01, LIST, [["Flat", FLAT], ["Zero", ZERO],
                              ["MOVREL", MOVREL], ["MOVABS", MOVABS]], "Set" ]
            - [ VAL02, INPUT, 6, 0.0, "WTT X" ]
            - [ VAL03, INPUT, 6, 0.0, "WTT Y" ]

    - sep

#######################
# F-conversion optics #
#######################
    -
        label: "Move F-conv"  
        cmd  : AO188_FCONV OBE_ID=AO188 OBE_MODE=LAUNCHER POS="$VAL01"
        params:
            - [ VAL01, LIST, [["OUT", "OUT"], ["IN", "IN"]] ]

    - sep


#END
